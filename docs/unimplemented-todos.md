# 未实现功能清单（基础设施层）

记录当前代码中的未实现或待完善功能，便于后续规划与拆解。

## 备份与下发
- **客户端分片下发闭环**（加密 → 传输 → 确认）尚未完成：
  - 用客户端公钥加密 SSS 备份分片。
  - 通过 HTTPS/gRPC 向客户端应用下发并等待确认。
  - 下发成功/失败/确认的状态机更新（`backup_share_deliveries` 记录状态流转）。
- **交付接口落地**：实际的客户端通信、回执验证、错误重试仍需实现。

## 密钥与派生
- **Hardened Derivation**：强化派生逻辑、路径规范、公钥生成未实现。
- **密钥轮换协议**：GG18/GG20 的轮换流程、元数据更新，以及旧签名验证兼容性未完成。

## 协议与验证
- **协议 TODO**：GG18/GG20/FROST 的签名/轮换流程中，完整错误处理、重试、恶意节点识别仍缺失。
- **Schnorr/BIP-340 验证**：FROST 相关的完整验证实现待补全。
- **签名会话完善**：会话超时/故障恢复的端到端验证与集成测试未覆盖。

## 鉴权与安全
- **JWT 校验细化**：mTLS 就绪，但 JWT 校验仍为占位，需要结合多租户/权限密钥。
- **分片下发安全**：客户端分片的加密策略、重放防护、确认签名等安全措施未落地。

## 存储与接口
- **BackupShareDelivery 业务串联**：存储层已实现，但服务层/客户端侧的实际调用与状态更新逻辑未接入。
- **客户端 API/SDK**：备份分片交付与确认的接口约定及实现尚未完成。

## 测试与文档
- **端到端集成测试**：含 mTLS + JWT 的 E2E 流程未覆盖。
- **性能/压力/故障注入测试**：尚未开展。
- **接口文档同步**：备份下发与确认相关的 Swagger/gRPC 文档未更新。

## 部署与配置
- **TLS 证书分发与校验**：配置字段已添加，需在部署侧提供证书/密钥/CA，并加入启动前校验与运行时检测。


